# Windows build job
build-windows:
  runs-on: windows-latest

  steps:
  - name: Checkout repository
    uses: actions/checkout@v3

  - name: Install vcpkg
    run: |
      git clone https://github.com/microsoft/vcpkg.git
      .\vcpkg\bootstrap-vcpkg.bat
    id: vcpkg

  - name: Install dependencies via vcpkg
    run: |
      .\vcpkg\vcpkg install --triplet x64-windows
      .\vcpkg\vcpkg integrate install

  - name: Configure CMake
    run: cmake -Bbuild -DCMAKE_TOOLCHAIN_FILE=./vcpkg/scripts/buildsystems/vcpkg.cmake  # Use forward slashes

  - name: Build project
    run: cmake --build build

  - name: Upload Windows build artifacts
    uses: actions/upload-artifact@v3
    with:
      name: hexspanned-windows
      path: build\Release\hexspanned.exe  # Path to your .exe file (adjust if necessary)
